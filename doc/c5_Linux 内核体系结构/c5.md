
![](img/Linux内核系统模块结构及相互依赖关系.png)

![](img/内核结构框图.png)

![](img/物理内存使用功能分布图.png)

![](img/Linux系统中虚拟地址空间分配图.png)

![](img/Linux%200.12线性地址空间的使用示意图.png)

![](img/Linux%200.12%20系统任务在虚拟空间中顺序排列所占的空间范围.png)

![](img/进程代码和数据在其逻辑空间中的分布.png)

![](img/内核代码和数据段在三种地址空间的关系.png)

![](img/任务0在三个地址空间中的关系.png)

![](img/任务1在三种地址空间中的关系.png)

![](img/其他任务地址空间中对应关系.png)

![](img/Intel保留的中断号及含义.png)

![](img/进程指针间的关系.png)

![](img/进程状态和转换关系.png)

![](img/任务切换操作示意图.png)

## 5.8 Linux 系统中堆栈的使用方法

Linux 0.12 系统中共使用了四种堆栈。
* 一种是系统引导初始化时临时使用的堆栈；
* 一种是进入保护模式之后提供内核程序初始化使用的堆栈，位于内核代码地址空间固定位置处。该堆栈也是后来任务 0 使用的用户态堆栈；
* 另一种是每个任务通过系统调用，执行内核程序时使用的堆栈，我们称之为任务的内核态堆栈。每个任务都有自己独立的内核态堆栈；
* 最后一种是任务在用户态执行的堆栈，位于任务（进程）逻辑地址空间近末端处。

![](img/刚进入保护模式时内核使用的堆栈示意图.png)

